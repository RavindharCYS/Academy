<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment | Success Meets Academy</title>
    
    <!-- Meta Tags for SEO -->
    <meta name="description" content="Enroll in a program at Success Meets Academy and take the first step towards transforming your career. Secure your spot today.">
    
    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <!-- Custom CSS -->
    <style>
        /* ------------------------- */
        /* --- 1. Global Styles & Variables --- */
        /* ------------------------- */
        :root {
            --primary-color: #4A148C;
            --secondary-color: #00BCD4;
            --dark-color: #212529;
            --body-color: #555;
            --bg-light: #f8f9fa;
            --heading-font: 'Poppins', sans-serif;
            --body-font: 'Poppins', sans-serif;
            --border-radius: 12px;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
        }

        body {
            font-family: var(--body-font);
            color: var(--body-color);
            background: linear-gradient(135deg, var(--bg-light) 0%, #e9e4f0 100%);
            padding-top: 80px; /* Offset for fixed navbar */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--heading-font);
            color: var(--dark-color);
            font-weight: 600;
        }

        /* ------------------------- */
        /* --- 2. Navigation Bar --- */
        /* ------------------------- */
        .navbar { background-color: white !important; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .navbar .navbar-brand img { height: 45px; margin-right: 10px; }
        .navbar-nav .nav-link { font-weight: 500; margin: 0 10px; position: relative; }
        .navbar-nav .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px; background-color: var(--primary-color); transition: width 0.3s ease; }
        .navbar-nav .nav-link:hover::after, .navbar-nav .nav-link.active::after { width: 100%; }

        /* ------------------------- */
        /* --- 3. Enrollment Page Layout --- */
        /* ------------------------- */
        .enrollment-wrapper { padding: 40px 0; }
        .form-container {
            background-color: #fff;
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        .reinforcement-panel {
            background-color: var(--bg-light);
            padding: 40px;
            border-radius: var(--border-radius);
            border: 1px solid #e9ecef;
            height: 100%;
        }
        @media (max-width: 992px) {
            .reinforcement-panel { margin-top: 30px; }
        }

        /* ------------------------- */
        /* --- 4. Form Styling --- */
        /* ------------------------- */
        .form-container h2 { color: var(--primary-color); }
        .form-container .form-section-title {
            font-weight: 600;
            color: var(--dark-color);
            margin-top: 20px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        .form-control, .form-select {
            padding: 12px 15px;
            border-radius: 8px;
        }
        .form-control:focus, .form-select:focus {
            box-shadow: 0 0 0 0.25rem rgba(74, 20, 140, 0.25);
            border-color: var(--primary-color);
        }
        .btn-brand {
            background-color: var(--primary-color); color: white; padding: 12px 30px;
            border-radius: 50px; font-weight: 500; transition: all 0.3s ease;
            border: 2px solid var(--primary-color); width: 100%; font-size: 1.1rem;
        }
        .btn-brand:hover {
            background-color: transparent; color: var(--primary-color); transform: translateY(-3px);
        }
        /* Custom Radio Buttons */
        .program-type-options .form-check-input { display: none; }
        .program-type-options .form-check-label {
            display: block; text-align: center; padding: 15px;
            border: 2px solid #ddd; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out;
        }
        .program-type-options .form-check-input:checked + .form-check-label {
            background-color: var(--primary-color); color: white; border-color: var(--primary-color);
            box-shadow: 0 4px 10px rgba(74, 20, 140, 0.2);
        }
        .program-type-options .form-check-label:hover { border-color: var(--primary-color); }

        /* ------------------------- */
        /* --- 5. Reinforcement Panel --- */
        /* ------------------------- */
        .benefit-item { display: flex; align-items: flex-start; margin-bottom: 20px; }
        .benefit-item .icon {
            font-size: 1.5rem; color: var(--primary-color); min-width: 40px;
            margin-right: 15px; text-align: center;
        }
        .testimonial-quote {
            background-color: #fff; border-left: 4px solid var(--secondary-color);
            padding: 20px; border-radius: 0 8px 8px 0; margin-top: 20px;
        }
        .testimonial-quote footer { font-weight: 600; color: var(--dark-color); }

        /* ------------------------- */
        /* --- 6. Modal & Footer --- */
        /* ------------------------- */
        .modal-header .fa-check-circle { font-size: 4rem; }
        footer { background-color: var(--dark-color); color: rgba(255,255,255,0.7); }
        footer h5 { color: white; }
        .footer-bottom a { color: var(--secondary-color); text-decoration: none; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand" href="/">
                <img src="/logo.jpeg" alt="Success Meets Academy Logo">
                Success Meets Academy
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/#programs">Programs</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#courses">Courses</a></li>
                    <li class="nav-item"><a class="nav-link" href="/Career/">Career Transform</a></li>
                    <li class="nav-item"><a class="nav-link" href="/About/">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/#contact">Contact</a></li>
                    <li class="nav-item ms-lg-3"><a href="/Enroll/" class="btn btn-brand active">Enroll Now</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="enrollment-wrapper">
        <div class="container">
            <div class="row g-5">
                <!-- Form Column -->
                <div class="col-lg-7">
                    <div class="form-container">
                        <div class="text-center mb-5">
                            <h2>Take the Final Step</h2>
                            <p class="lead">You're one step away from transforming your career. Fill out the form below to secure your spot.</p>
                        </div>
                        
                        <form id="enrollmentForm" novalidate>
                            <h4 class="form-section-title">Personal Details</h4>
                            <div class="row">
                                <div class="col-md-6 mb-3"><label for="firstName" class="form-label">First Name*</label><input type="text" class="form-control" id="firstName" required></div>
                                <div class="col-md-6 mb-3"><label for="lastName" class="form-label">Last Name*</label><input type="text" class="form-control" id="lastName" required></div>
                            </div>
                            
                            <h4 class="form-section-title">Contact Information</h4>
                            <div class="row">
                                <div class="col-md-6 mb-3"><label for="email" class="form-label">Email Address*</label><input type="email" class="form-control" id="email" required></div>
                                <div class="col-md-6 mb-3"><label for="phone" class="form-label">Phone Number*</label><input type="tel" class="form-control" id="phone" pattern="[0-9]{10}" required></div>
                            </div>
                            
                            <h4 class="form-section-title">Course Selection</h4>
                            <label class="form-label">Select Program Type*</label>
                            <div class="row program-type-options g-2 mb-3">
                                <div class="col-6"><input type="radio" class="form-check-input" name="programType" id="placementTraining" value="Placement Training" required><label class="form-check-label" for="placementTraining"><i class="fas fa-briefcase d-block mb-2"></i> Placement Training</label></div>
                                <div class="col-6"><input type="radio" class="form-check-input" name="programType" id="specializedCourse" value="Specialized Course" required><label class="form-check-label" for="specializedCourse"><i class="fas fa-star d-block mb-2"></i> Specialized Course</label></div>
                            </div>
                            
                            <div id="courseOptions" class="mb-3" style="display: none;">
                                <label for="courseSelect" class="form-label">Select Your Course*</label>
                                <select class="form-select" id="courseSelect" required>
                                    <option value="" selected disabled>-- Choose a course --</option>
                                    <option value="Full Stack Development">Full Stack Development</option>
                                    <option value="Data Analytics">Data Analytics</option>
                                    <option value="UI/UX Design">UI/UX Design</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="additionalInfo" class="form-label">Anything else we should know?</label>
                                <textarea class="form-control" id="additionalInfo" rows="3" placeholder="e.g., specific goals, questions..."></textarea>
                            </div>
                            
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" id="terms" required><label class="form-check-label" for="terms">I agree to the Terms of Service and Privacy Policy.</label>
                            </div>

                            <button type="submit" class="btn btn-brand" id="submitButton">
                                <span class="button-text">Submit My Enrollment</span>
                                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                            </button>
                        </form>
                    </div>
                </div>
                
                <!-- Reinforcement Column -->
                <div class="col-lg-5">
                    <div class="reinforcement-panel">
                        <h3 class="mb-4">You're Making a Great Decision.</h3>
                        
                        <div class="benefit-item">
                            <div class="icon"><i class="fas fa-rocket"></i></div>
                            <div><h5>Launch Your Career</h5><p>Our programs are designed with one goal: to get you hired. Gain practical, job-ready skills.</p></div>
                        </div>
                        <div class="benefit-item">
                            <div class="icon"><i class="fas fa-users"></i></div>
                            <div><h5>Expert-Led Instruction</h5><p>Learn from industry veterans who bring real-world experience into the classroom.</p></div>
                        </div>
                        <div class="benefit-item">
                            <div class="icon"><i class="fas fa-headset"></i></div>
                            <div><h5>Dedicated Support</h5><p>From day one to your first job, our team provides continuous mentorship and career support.</p></div>
                        </div>
                        
                        <blockquote class="testimonial-quote">
                            <p>"Enrolling was the best decision I made for my career. The support and practical skills I gained were invaluable."</p>
                            <footer>- Priya S., Software Engineer</footer>
                        </blockquote>

                        <hr class="my-4">
                        <h5 class="mb-3">What Happens Next?</h5>
                        <ul class="list-unstyled">
                            <li class="d-flex align-items-start mb-2"><i class="fas fa-check-circle text-success mt-1 me-2"></i> <span>You'll receive a confirmation email instantly.</span></li>
                            <li class="d-flex align-items-start"><i class="fas fa-check-circle text-success mt-1 me-2"></i> <span>Our admissions advisor will call you within 24 hours to finalize your onboarding.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center p-5">
                    <i class="fas fa-check-circle text-success mb-4"></i>
                    <h3 class="mb-3">Enrollment Submitted!</h3>
                    <p class="lead">Welcome to the Academy! We've received your details and are excited to have you on board.</p>
                    <p>Our team will be in touch shortly to guide you through the next steps.</p>
                    <button type="button" class="btn btn-brand mt-3" onclick="window.location.href='/'">Back to Homepage</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="py-5 bg-dark text-white mt-5">
        <div class="container text-center footer-bottom">
            <p class="mb-0">Â© 2024 Success Meets Academy. All Rights Reserved.</p>
            <p>Designed & Developed By <a href="https://www.exploiteye.in/" target="_blank" rel="noopener noreferrer">Exploit Eye</a></p>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script>
        // --- SECURITY WARNING ---
        // Exposing Firebase API keys in client-side code is a major security risk.
        // Use environment variables and server-side functions in a production environment.
        const firebaseConfig = {
            apiKey: "AIzaSyByyvBBlzSary6QoHgPX0AcQCVyLXYuoKk",
            authDomain: "successmeetsacademydata.firebaseapp.com",
            projectId: "successmeetsacademydata",
            storageBucket: "successmeetsacademydata.appspot.com",
            messagingSenderId: "444995824282",
            appId: "1:444995824282:web:07953b8989c4ab5b1c0d23"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('enrollmentForm');
            const submitButton = document.getElementById('submitButton');
            const buttonText = submitButton.querySelector('.button-text');
            const buttonSpinner = submitButton.querySelector('.spinner-border');
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));

            // Conditional field logic
            const courseOptionsDiv = document.getElementById('courseOptions');
            document.querySelectorAll('input[name="programType"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    courseOptionsDiv.style.display = (e.target.id === 'specializedCourse') ? 'block' : 'none';
                    document.getElementById('courseSelect').required = (e.target.id === 'specializedCourse');
                });
            });

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                if (!form.checkValidity()) {
                    e.stopPropagation();
                    form.classList.add('was-validated');
                    return;
                }

                buttonText.textContent = 'Submitting...';
                buttonSpinner.classList.remove('d-none');
                submitButton.disabled = true;

                const programType = form.querySelector('input[name="programType"]:checked').value;
                const enrollmentData = {
                    firstName: form.querySelector('#firstName').value,
                    lastName: form.querySelector('#lastName').value,
                    email: form.querySelector('#email').value,
                    phone: form.querySelector('#phone').value,
                    programType: programType,
                    course: (programType === 'Specialized Course') ? form.querySelector('#courseSelect').value : 'N/A',
                    additionalInfo: form.querySelector('#additionalInfo').value || 'None',
                    termsAgreed: form.querySelector('#terms').checked,
                    submittedAt: firebase.firestore.FieldValue.serverTimestamp()
                };

                try {
                    await db.collection('enrollments').add(enrollmentData);
                    successModal.show();
                    form.reset();
                    form.classList.remove('was-validated');
                    courseOptionsDiv.style.display = 'none';
                } catch (error) {
                    console.error("Error submitting enrollment: ", error);
                    alert('There was an error submitting your enrollment. Please try again.');
                } finally {
                    buttonText.textContent = 'Submit My Enrollment';
                    buttonSpinner.classList.add('d-none');
                    submitButton.disabled = false;
                }
            });
        });
    </script>
</body>
</html>